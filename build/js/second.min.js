function spliting(e){let t=e.textContent.split(""),o="";t.forEach(function(e){o+=""===e.trim()?"<span>&nbsp;</span>":"<span>"+e+"</span>"}),e.innerHTML=o}const splitElements=document.querySelectorAll(".split");for(let e=0;e<splitElements.length;e++)spliting(splitElements[e]);gsap.registerPlugin(ScrollTrigger);const locoScroll=new LocomotiveScroll({el:document.querySelector(".scroller"),smooth:!0}),promoSecondTl=(locoScroll.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy(".scroller",{scrollTop(e){return arguments.length?locoScroll.scrollTo(e,0,0):locoScroll.scroll.instance.scroll.y},getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:document.querySelector(".scroller").style.transform?"transform":"fixed"}),ScrollTrigger.addEventListener("refresh",()=>locoScroll.update()),gsap.timeline({scrollTrigger:{trigger:".promo-second",scroller:".scroller",start:"top 100%",end:"bottom bottom",toggleActions:"play none none reset"}}));promoSecondTl.addLabel("start","+=1").staggerFrom(".promo-second__top-title .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05).staggerFrom(".promo-second__bottom-title .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05,"start").from(".promo-second__text",.4,{opacity:0,ease:Power2.easeInOut},">");let headerScrollLength;window.addEventListener("load",function(){var e=document.querySelector(".metaverse__title-wrap"),t=document.querySelector(".container"),t=3*parseFloat(window.getComputedStyle(t)["padding-left"]);headerScrollLength=e.scrollWidth+t-window.innerWidth,gsap.to(e,{x:-headerScrollLength,ease:"none",scrollTrigger:{scroller:".scroller",trigger:".metaverse__header",start:"top 5%",pin:!0,scrub:1,end:"+="+headerScrollLength,refreshPriority:1}}),ScrollTrigger.refresh()});const metaVerseTl=gsap.timeline({scrollTrigger:{trigger:".metaverse__worth-text",scroller:".scroller",start:"top center",end:"bottom bottom",toggleActions:"play none none reverse"}}),metaVerseTextTl=(metaVerseTl.addLabel("start","+=1").staggerFrom(".metaverse__worth-text .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05).staggerFrom(".metaverse__report-text .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05,"start").from(".metaverse__img-text",.4,{opacity:0,ease:Power2.easeInOut},">"),gsap.timeline({scrollTrigger:{trigger:".metaverse__text-cont",scroller:".scroller",start:"top 90%",end:"bottom bottom",toggleActions:"play none none reset"}})),wrngMetaTl=(metaVerseTextTl.addLabel("start","+=1").staggerFrom(".metaverse__acccent-text .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05).from(".metaverse__text",.4,{opacity:0,ease:Power2.easeInOut},">"),gsap.timeline({scrollTrigger:{trigger:".wrng-meta",scroller:".scroller",start:"top 50%",end:"bottom bottom",toggleActions:"play none none reset"}}));wrngMetaTl.addLabel("start","+=1").staggerFrom(".wrng-meta__top-title .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05).from(".wrng-meta__icon-b",.4,{opacity:0,ease:Power2.easeInOut},">").staggerFrom(".wrng-meta__bottom-title .split span",.8,{y:"100%",ease:Power2.easeInOut,yoyo:!0},.05,">"),window.addEventListener("load",function(){let l=document.querySelectorAll(".slide__wrap > div");var e=document.querySelector(".slide__wrap").offsetWidth,t=e-window.innerWidth;const s=gsap.to(".slide__wrap",{scrollTrigger:{scroller:".scroller",scrub:!0,trigger:".slide",pin:!0,start:"top top",end:"+="+e},x:-t,ease:"none"});l.forEach((t,e)=>{const o=0===e?"":l[e-1].dataset.slidebgcolor,r=0===e?"":l[e-1].dataset.slidecolor;ScrollTrigger.create({containerAnimation:s,horizontal:!0,trigger:t,start:"left center",end:"right center",onEnter:()=>{gsap.to("body",{backgroundColor:t.dataset.slidebgcolor,color:t.dataset.slidecolor,overwrite:"auto"});var e=t.querySelector(".slide__line");e&&gsap.to(e,.4,{width:"5.5%",ease:Power2.easeInOut})},onLeaveBack:()=>gsap.to("body",{backgroundColor:o,color:r,overwrite:"auto"})})}),ScrollTrigger.refresh()}),window.addEventListener("load",function(){const l=document.querySelectorAll("[data-bgcolor]");l.forEach((e,t)=>{const o=0===t?"":l[t-1].dataset.bgcolor,r=0===t?"":l[t-1].dataset.textcolor;ScrollTrigger.create({trigger:e,scroller:".scroller",start:"top 50%",toggleClass:"active",onEnter:()=>gsap.to("body",{backgroundColor:e.dataset.bgcolor,color:e.dataset.textcolor,overwrite:"auto"}),onLeaveBack:()=>gsap.to("body",{backgroundColor:o,color:r,overwrite:"auto"})})})});